---
layout: default
---
<article id="post-page">
	<h2>{{ page.title }}</h2>		
	<time datetime="{{ page.date | date_to_xmlschema }}" class="by-line">{{ page.date | date_to_string }}</time>
	<div class="content">

		{{ content }}
		
	</div>
</article>

<hr>

<!-- Static comments -->
<!-- From http://idiologos.netlify.com/2017/03/20/jekyll-and-staticman.html -->
<!-- Partly based on Made Mistakes' comments.html file: -->
<!-- https://github.com/mmistakes/minimal-mistakes/blob/master/_includes/comments.html -->
<!-- Also partly based on Eduardo Boucas' reviews.html file -->
<!-- https://github.com/eduardoboucas/popcorn/blob/gh-pages/_includes/reviews.html -->

{% if site.data.comments[page.slug] %}

<p>
<h3>
	{% if site.data.comments[page.slug].size > 1 %}
	{{ site.data.comments[page.slug] | size }}
	{% endif %}
	Comments:
</h3>
</p>

<hr>

{% assign comments = site.data.comments[page.slug] | sort %}

<p>
	{% for comment in comments %}
	<br>
	<legend><strong>{{ comment[1].name }}</strong></legend>
	<em>{{ comment[1].date | date: "%B %d, %Y" }}</em>
<p>{{ comment[1].message | markdownify }}</p>
<hr>
{% endfor %}
</p>
{% endif %}


<h3>Post a comment:</h3>
<form class="pure-form pure-form-aligned" method="POST" action="https://api.staticman.net/v2/entry/weitzman/blog/master/comments">
	<!-- e.g. "2016-01-02-this-is-a-post" -->
	<input name="options[slug]" type="hidden" value="{{ page.slug }}">
	<input name="options[redirect]" type="hidden" value="https://weitzman.github.io/blog">
	<fieldset>
		<div class="pure-control-group">
			<label for="fields[name]">Name</label>
			<input id="fields[name]" name="fields[name]" type="text" placeholder="Name" class="pure-input-2-3" required>
			<span class="pure-form-message-inline"></span>
		</div>

		<div class="pure-control-group">
			<label for="fields[email]">Email</label>
			<input id="fields[email]" name="fields[email]" type="email" placeholder="Email" class="pure-input-2-3" required>
		</div>

		<div class="pure-control-group">
			<label for="fields[message]">Message</label>
			<textarea rows="19" id="fields[message]" name="fields[message]" placeholder="Markdown is allowed." class="pure-input-2-3" required></textarea>
		</div>
		<div class="pure-controls">
			<button type="submit" class="pure-button pure-button-primary">Submit</button>
		</div>
	</fieldset>
</form>
